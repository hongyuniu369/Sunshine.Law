@{
    ViewBag.Title = "找律所-阳光问法-河北新闻网";
    Layout = "~/Views/Shared/_LayoutWap.cshtml";
    
    ViewBag.EasyuiVersion = "1.3.2";
    ViewBag.locale = "zh_CN";
    ViewBag.theme = "gray";
    ViewBag.Keywords = "阳光问法,河北法律,河北法律平台";
}

@section head{
<link href="~/Content/law/css/lslist.css" rel="stylesheet" type="text/css" />
    <script src="~/Content/js/jquery/jquery-1.8.1.min.js" type="text/javascript"></script>
    <!--加载脚本库-->
    @Scripts.Render("~/Content/js/library")
    <!--加载easyui加载器-->
    <script type="text/javascript" src="~/Content/js/jquery-easyui-@ViewBag.EasyuiVersion/easyloader.js?locale=@ViewBag.locale&theme=@ViewBag.theme"></script>
}

@section scripts{
    <script src="/Content/js/viewModel/com.viewModel.list.js"></script>

    <script type="text/javascript">
        var data = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model));
        var viewModel = function(){
            var self = this;
            com.viewModel.list.apply(this,arguments);
        }
        var easyLoaded = function(){
            //数据绑定
            var view = new viewModel(data);
            ko.applyBindings(view);
            //样式处理
            $(".zxcon ul li").not(".sep").hover(function () {
                $(".zxcon ul li").removeClass("first");
                $(this).addClass("first");

            }, function () {
                $(this).removeClass("first");

            })
        };
        using(['parser', 'pagination'], easyLoaded);

        $(document).ready(function () {
        })
    </script>
}
<style>
    .zxcon {
        margin: 0px 6px 0 6px;
        border-style:none;
        padding-top: 0px;
    }

    .zxcon ul li div {
        margin: 0;
    }
    .zxcon ul li div p.desc, .zxcon ul li {
        height:auto;
    }
    .zxcon,.zxcon ul li,.zxcon ul li div{
        width: auto;
    }
</style>
<div class="tittle">
    <a href="/wap">首页</a> >> 律所
</div>
<div class="zxcon">
    <ul data-bind="foreach: items">
        <li data-bind="attr: {'class': $index()<1?'first':''}">
            <div>
                <p class="lawyername"><span class="xm"><a data-bind="attr: {'href':'/wap/firmdetail/' + FirmCode() },html:FirmName" target="_blank"></a></span></p>
                <p class="zc" data-bind="html:FirmAddress">石家庄市桥西区</p>
                <p class="desc" data-bind="html:(FirmDescription().replace(/<[^>]+>/g,'').substring(0,80)+'...<a href=\'/wap/firmdetail/' + FirmCode() + '\' target=\'_blank\'>[详细]</a>')">...<a href="#" data-bind="attr: {'href':'/firm-' + FirmCode() }">[详细]</a></p>
            </div>
        </li>
        <li class="sep"></li>
    </ul>
    <div id="pp" ></div> 
</div>
